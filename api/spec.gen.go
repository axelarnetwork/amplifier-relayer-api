// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.4.1 DO NOT EDIT.
package api

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"AA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
